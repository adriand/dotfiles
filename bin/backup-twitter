#!/usr/bin/env zsh

# this requires `t` to be installed and configured
# https://github.com/sferik/t

prefix="$HOME/Backups/Twitter"
[[ -d "$prefix" ]] || mkdir -p "$prefix"

echo "Backing up direct messages..." >&2
t direct_messages --csv --number 2048 | tee "$prefix/messages.csv"

echo "\nBacking up sent direct messages..." >&2
t direct_messages_sent --csv --number 2048 | tee "$prefix/messages_sent.csv"

echo "\nBacking up favorites..." >&2
t favorites --csv --number 2048 | tee "$prefix/favorites.csv"

echo "\nBacking up follows..." >&2
t followings --csv | tee "$prefix/following.csv"

echo "\nBacking up retweets..." >&2
t retweets --csv --number 2048 | tee "$prefix/retweets.csv"

echo "\nBacking up tweets..." >&2
t timeline @devlinzed --csv --number 2048 | tee "$prefix/tweets.csv"
